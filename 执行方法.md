# 执行方法
项目根目录
│
├──105年A1-A4所有當事人.xlsx #数据资料
├──106年A1-A4所有當事人.xlsx #数据资料
├──107年A1-A4所有當事人(新增戶籍地).xlsx #数据资料
├──108年A1-A4所有當事人(新增戶籍地).xlsx #数据资料
├──109年A1-A4所有當事人(新增戶籍地).xlsx #数据资料
├── data.py # 执行步骤1：数据处理
├── RandomForest.py # 执行步骤2：特征分析
├── model_training.py # 执行步骤3：模型训练和评估
├── shap_analysis.py # 执行步骤4：结果分析
├── step1.csv # 步骤1生成的合并数据文件
├── step2.csv # 步骤2生成的特征重要性文件
└── model # 项目简介和执行方法（本文件）
    └──各种模型
## 简介

本项目旨在通过数据处理、特征分析和模型训练，构建一个高效的车祸类型分类模型，并使用SHAP分析每年车祸结果的分类变化。以下是具体的执行步骤。

## 步骤1：数据处理

### `python data.py`

#### 功能
- 读取Excel文件，合并处理105年至109年的数据，并生成`step1.csv`文件。

#### 实现
- 使用`pandas`库读取Excel文件，处理数据空缺和数据排版不一致的问题。
- 合并多年的数据，统一格式，转换为单一的csv文件。

## 步骤2：特征分析

### `python RandomForest.py`

#### 功能
- 读取`step1.csv`文件，通过随机森林分析特征的重要性，并将贡献较大的特征输出到`step2.csv`文件。

#### 实现
- 使用`pandas`库读取`step1.csv`文件，进行数据预处理。
- 使用`sklearn`库的`RandomForestClassifier`分析特征重要性，筛选出贡献较大的特征。

## 步骤3：模型训练和评估

### `python model_training.py`

#### 功能
- 读取`step2.csv`文件，使用各种分类模型调试并选择最佳模型进行车祸类型分类。

#### 实现
- 使用`pandas`库读取`step2.csv`文件，进行数据预处理。
- 尝试多种分类模型（如决策树、随机森林、梯度提升等），调整参数并选择最佳模型。

## 步骤4：结果分析

### `python shap_analysis.py`

#### 功能
- 使用调试好的最佳模型结合SHAP分析每年车祸结果的分类变化。

#### 实现
- 使用`pandas`库读取数据，结合SHAP库分析特征对预测结果的贡献。
- 输出每年车祸类型分类结果的变化趋势。
